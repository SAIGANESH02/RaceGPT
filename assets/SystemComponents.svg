<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="auto" viewBox="0 0 200 50">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 183.4)">
<title>SystemComponents</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-183.4 1956,-183.4 1956,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="976" y="-164.6" font-family="Times,serif" font-size="12.00">RaceGPT System Components</text>
<g id="clust1" class="cluster">
<title>cluster_ingest</title>
<path fill="none" stroke="#b3b3b3" d="M20,-23C20,-23 744.88,-23 744.88,-23 750.88,-23 756.88,-29 756.88,-35 756.88,-35 756.88,-97 756.88,-97 756.88,-103 750.88,-109 744.88,-109 744.88,-109 20,-109 20,-109 14,-109 8,-103 8,-97 8,-97 8,-35 8,-35 8,-29 14,-23 20,-23"/>
<text xml:space="preserve" text-anchor="middle" x="382.44" y="-94.2" font-family="Times,serif" font-size="12.00">Ingest and Preprocess</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_transcript</title>
<path fill="none" stroke="#b3b3b3" d="M788.88,-29C788.88,-29 1051.05,-29 1051.05,-29 1057.05,-29 1063.05,-35 1063.05,-41 1063.05,-41 1063.05,-91 1063.05,-91 1063.05,-97 1057.05,-103 1051.05,-103 1051.05,-103 788.88,-103 788.88,-103 782.88,-103 776.88,-97 776.88,-91 776.88,-91 776.88,-41 776.88,-41 776.88,-35 782.88,-29 788.88,-29"/>
<text xml:space="preserve" text-anchor="middle" x="919.97" y="-88.2" font-family="Times,serif" font-size="12.00">Transcript Intelligence</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_rag</title>
<path fill="none" stroke="#b3b3b3" d="M1095.05,-50C1095.05,-50 1803.83,-50 1803.83,-50 1809.83,-50 1815.83,-56 1815.83,-62 1815.83,-62 1815.83,-137 1815.83,-137 1815.83,-143 1809.83,-149 1803.83,-149 1803.83,-149 1095.05,-149 1095.05,-149 1089.05,-149 1083.05,-143 1083.05,-137 1083.05,-137 1083.05,-62 1083.05,-62 1083.05,-56 1089.05,-50 1095.05,-50"/>
<text xml:space="preserve" text-anchor="middle" x="1449.44" y="-134.2" font-family="Times,serif" font-size="12.00">RAG Retrieval and Answering</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_ui</title>
<path fill="none" stroke="#b3b3b3" d="M1847.83,-8C1847.83,-8 1936.46,-8 1936.46,-8 1942.46,-8 1948.46,-14 1948.46,-20 1948.46,-20 1948.46,-124 1948.46,-124 1948.46,-130 1942.46,-136 1936.46,-136 1936.46,-136 1847.83,-136 1847.83,-136 1841.83,-136 1835.83,-130 1835.83,-124 1835.83,-124 1835.83,-20 1835.83,-20 1835.83,-14 1841.83,-8 1847.83,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1892.15" y="-121.2" font-family="Times,serif" font-size="12.00">Experience and Ops</text>
</g>
<!-- AudioSources -->
<g id="node1" class="node">
<title>AudioSources</title>
<path fill="white" stroke="black" d="M109.81,-73C109.81,-73 28,-73 28,-73 22,-73 16,-67 16,-61 16,-61 16,-49 16,-49 16,-43 22,-37 28,-37 28,-37 109.81,-37 109.81,-37 115.81,-37 121.81,-43 121.81,-49 121.81,-49 121.81,-61 121.81,-61 121.81,-67 115.81,-73 109.81,-73"/>
<text xml:space="preserve" text-anchor="middle" x="68.91" y="-58.3" font-family="Times,serif" font-size="11.00">Race Audio Sources</text>
<text xml:space="preserve" text-anchor="middle" x="68.91" y="-45.1" font-family="Times,serif" font-size="11.00">(Multi-channel)</text>
</g>
<!-- Ingest -->
<g id="node2" class="node">
<title>Ingest</title>
<path fill="white" stroke="black" d="M283.69,-73C283.69,-73 169.81,-73 169.81,-73 163.81,-73 157.81,-67 157.81,-61 157.81,-61 157.81,-49 157.81,-49 157.81,-43 163.81,-37 169.81,-37 169.81,-37 283.69,-37 283.69,-37 289.69,-37 295.69,-43 295.69,-49 295.69,-49 295.69,-61 295.69,-61 295.69,-67 289.69,-73 283.69,-73"/>
<text xml:space="preserve" text-anchor="middle" x="226.75" y="-58.3" font-family="Times,serif" font-size="11.00">Ingest and Channel Mapper</text>
<text xml:space="preserve" text-anchor="middle" x="226.75" y="-45.1" font-family="Times,serif" font-size="11.00">(metadata, alignment)</text>
</g>
<!-- AudioSources&#45;&gt;Ingest -->
<g id="edge1" class="edge">
<title>AudioSources-&gt;Ingest</title>
<path fill="none" stroke="black" d="M122.23,-55C129.93,-55 137.99,-55 146.09,-55"/>
<polygon fill="black" stroke="black" points="145.99,-58.5 155.99,-55 145.99,-51.5 145.99,-58.5"/>
</g>
<!-- Preprocess -->
<g id="node3" class="node">
<title>Preprocess</title>
<path fill="white" stroke="black" d="M432.83,-78.8C432.83,-78.8 343.69,-78.8 343.69,-78.8 337.69,-78.8 331.69,-72.8 331.69,-66.8 331.69,-66.8 331.69,-43.2 331.69,-43.2 331.69,-37.2 337.69,-31.2 343.69,-31.2 343.69,-31.2 432.83,-31.2 432.83,-31.2 438.83,-31.2 444.83,-37.2 444.83,-43.2 444.83,-43.2 444.83,-66.8 444.83,-66.8 444.83,-72.8 438.83,-78.8 432.83,-78.8"/>
<text xml:space="preserve" text-anchor="middle" x="388.26" y="-64.9" font-family="Times,serif" font-size="11.00">Audio Preprocessing</text>
<text xml:space="preserve" text-anchor="middle" x="388.26" y="-51.7" font-family="Times,serif" font-size="11.00">(denoise, silence trim,</text>
<text xml:space="preserve" text-anchor="middle" x="388.26" y="-38.5" font-family="Times,serif" font-size="11.00">keep time integrity)</text>
</g>
<!-- Ingest&#45;&gt;Preprocess -->
<g id="edge2" class="edge">
<title>Ingest-&gt;Preprocess</title>
<path fill="none" stroke="black" d="M295.86,-55C303.82,-55 311.95,-55 319.9,-55"/>
<polygon fill="black" stroke="black" points="319.88,-58.5 329.88,-55 319.88,-51.5 319.88,-58.5"/>
</g>
<!-- Diarization -->
<g id="node4" class="node">
<title>Diarization</title>
<path fill="white" stroke="black" d="M572.48,-73C572.48,-73 492.83,-73 492.83,-73 486.83,-73 480.83,-67 480.83,-61 480.83,-61 480.83,-49 480.83,-49 480.83,-43 486.83,-37 492.83,-37 492.83,-37 572.48,-37 572.48,-37 578.48,-37 584.48,-43 584.48,-49 584.48,-49 584.48,-61 584.48,-61 584.48,-67 578.48,-73 572.48,-73"/>
<text xml:space="preserve" text-anchor="middle" x="532.66" y="-58.3" font-family="Times,serif" font-size="11.00">Speaker Diarization</text>
<text xml:space="preserve" text-anchor="middle" x="532.66" y="-45.1" font-family="Times,serif" font-size="11.00">(speechlib)</text>
</g>
<!-- Preprocess&#45;&gt;Diarization -->
<g id="edge3" class="edge">
<title>Preprocess-&gt;Diarization</title>
<path fill="none" stroke="black" d="M445.13,-55C453.07,-55 461.28,-55 469.34,-55"/>
<polygon fill="black" stroke="black" points="469.07,-58.5 479.07,-55 469.07,-51.5 469.07,-58.5"/>
</g>
<!-- RoleMap -->
<g id="node5" class="node">
<title>RoleMap</title>
<path fill="white" stroke="black" d="M736.88,-78.8C736.88,-78.8 632.48,-78.8 632.48,-78.8 626.48,-78.8 620.48,-72.8 620.48,-66.8 620.48,-66.8 620.48,-43.2 620.48,-43.2 620.48,-37.2 626.48,-31.2 632.48,-31.2 632.48,-31.2 736.88,-31.2 736.88,-31.2 742.88,-31.2 748.88,-37.2 748.88,-43.2 748.88,-43.2 748.88,-66.8 748.88,-66.8 748.88,-72.8 742.88,-78.8 736.88,-78.8"/>
<text xml:space="preserve" text-anchor="middle" x="684.68" y="-64.9" font-family="Times,serif" font-size="11.00">Speaker Role Attribution</text>
<text xml:space="preserve" text-anchor="middle" x="684.68" y="-51.7" font-family="Times,serif" font-size="11.00">(BERT or LLM)</text>
<text xml:space="preserve" text-anchor="middle" x="684.68" y="-38.5" font-family="Times,serif" font-size="11.00">(driver, engineer, spotter)</text>
</g>
<!-- Diarization&#45;&gt;RoleMap -->
<g id="edge4" class="edge">
<title>Diarization-&gt;RoleMap</title>
<path fill="none" stroke="black" d="M584.87,-55C592.6,-55 600.7,-55 608.81,-55"/>
<polygon fill="black" stroke="black" points="608.71,-58.5 618.71,-55 608.71,-51.5 608.71,-58.5"/>
</g>
<!-- Transcripts -->
<g id="node6" class="node">
<title>Transcripts</title>
<path fill="white" stroke="black" d="M882.32,-73C882.32,-73 796.88,-73 796.88,-73 790.88,-73 784.88,-67 784.88,-61 784.88,-61 784.88,-49 784.88,-49 784.88,-43 790.88,-37 796.88,-37 796.88,-37 882.32,-37 882.32,-37 888.32,-37 894.32,-43 894.32,-49 894.32,-49 894.32,-61 894.32,-61 894.32,-67 888.32,-73 882.32,-73"/>
<text xml:space="preserve" text-anchor="middle" x="839.6" y="-58.3" font-family="Times,serif" font-size="11.00">Transcripts Store</text>
<text xml:space="preserve" text-anchor="middle" x="839.6" y="-45.1" font-family="Times,serif" font-size="11.00">(files per race/driver)</text>
</g>
<!-- RoleMap&#45;&gt;Transcripts -->
<g id="edge5" class="edge">
<title>RoleMap-&gt;Transcripts</title>
<path fill="none" stroke="black" d="M749.2,-55C757.14,-55 765.27,-55 773.24,-55"/>
<polygon fill="black" stroke="black" points="773.24,-58.5 783.24,-55 773.24,-51.5 773.24,-58.5"/>
</g>
<!-- Parser -->
<g id="node7" class="node">
<title>Parser</title>
<path fill="white" stroke="black" d="M1043.05,-73C1043.05,-73 942.32,-73 942.32,-73 936.32,-73 930.32,-67 930.32,-61 930.32,-61 930.32,-49 930.32,-49 930.32,-43 936.32,-37 942.32,-37 942.32,-37 1043.05,-37 1043.05,-37 1049.05,-37 1055.05,-43 1055.05,-49 1055.05,-49 1055.05,-61 1055.05,-61 1055.05,-67 1049.05,-73 1043.05,-73"/>
<text xml:space="preserve" text-anchor="middle" x="992.69" y="-58.3" font-family="Times,serif" font-size="11.00">Transcript Parser</text>
<text xml:space="preserve" text-anchor="middle" x="992.69" y="-45.1" font-family="Times,serif" font-size="11.00">[start, end, speaker, text]</text>
</g>
<!-- Transcripts&#45;&gt;Parser -->
<g id="edge6" class="edge">
<title>Transcripts-&gt;Parser</title>
<path fill="none" stroke="black" d="M894.72,-55C902.49,-55 910.59,-55 918.65,-55"/>
<polygon fill="black" stroke="black" points="918.47,-58.5 928.47,-55 918.47,-51.5 918.47,-58.5"/>
</g>
<!-- Embed -->
<g id="node8" class="node">
<title>Embed</title>
<path fill="white" stroke="black" d="M1199.5,-112C1199.5,-112 1103.05,-112 1103.05,-112 1097.05,-112 1091.05,-106 1091.05,-100 1091.05,-100 1091.05,-88 1091.05,-88 1091.05,-82 1097.05,-76 1103.05,-76 1103.05,-76 1199.5,-76 1199.5,-76 1205.5,-76 1211.5,-82 1211.5,-88 1211.5,-88 1211.5,-100 1211.5,-100 1211.5,-106 1205.5,-112 1199.5,-112"/>
<text xml:space="preserve" text-anchor="middle" x="1151.28" y="-97.3" font-family="Times,serif" font-size="11.00">Embedding Generator</text>
<text xml:space="preserve" text-anchor="middle" x="1151.28" y="-84.1" font-family="Times,serif" font-size="11.00">(sentence-transformers)</text>
</g>
<!-- Parser&#45;&gt;Embed -->
<g id="edge7" class="edge">
<title>Parser-&gt;Embed</title>
<path fill="none" stroke="black" d="M1055.12,-70.3C1063.2,-72.31 1071.52,-74.38 1079.72,-76.43"/>
<polygon fill="black" stroke="black" points="1078.79,-79.8 1089.34,-78.82 1080.48,-73.01 1078.79,-79.8"/>
</g>
<!-- Retrieval -->
<g id="node10" class="node">
<title>Retrieval</title>
<path fill="white" stroke="black" d="M1466.62,-118.4C1466.62,-118.4 1395.2,-118.4 1395.2,-118.4 1389.2,-118.4 1383.2,-112.4 1383.2,-106.4 1383.2,-106.4 1383.2,-69.6 1383.2,-69.6 1383.2,-63.6 1389.2,-57.6 1395.2,-57.6 1395.2,-57.6 1466.62,-57.6 1466.62,-57.6 1472.62,-57.6 1478.62,-63.6 1478.62,-69.6 1478.62,-69.6 1478.62,-106.4 1478.62,-106.4 1478.62,-112.4 1472.62,-118.4 1466.62,-118.4"/>
<text xml:space="preserve" text-anchor="middle" x="1430.91" y="-104.5" font-family="Times,serif" font-size="11.00">Retriever</text>
<text xml:space="preserve" text-anchor="middle" x="1430.91" y="-91.3" font-family="Times,serif" font-size="11.00">(cosine similarity,</text>
<text xml:space="preserve" text-anchor="middle" x="1430.91" y="-78.1" font-family="Times,serif" font-size="11.00">keyword fallback,</text>
<text xml:space="preserve" text-anchor="middle" x="1430.91" y="-64.9" font-family="Times,serif" font-size="11.00">2-pass ranking)</text>
</g>
<!-- Parser&#45;&gt;Retrieval -->
<g id="edge10" class="edge">
<title>Parser-&gt;Retrieval</title>
<path fill="none" stroke="black" d="M1055.34,-53.11C1126.16,-51.85 1245.67,-52.56 1347.2,-67 1355.26,-68.15 1363.68,-69.77 1371.93,-71.61"/>
<polygon fill="black" stroke="black" points="1371.01,-74.99 1381.55,-73.89 1372.62,-68.18 1371.01,-74.99"/>
</g>
<!-- Cache -->
<g id="node9" class="node">
<title>Cache</title>
<path fill="white" stroke="black" d="M1335.2,-112C1335.2,-112 1259.5,-112 1259.5,-112 1253.5,-112 1247.5,-106 1247.5,-100 1247.5,-100 1247.5,-88 1247.5,-88 1247.5,-82 1253.5,-76 1259.5,-76 1259.5,-76 1335.2,-76 1335.2,-76 1341.2,-76 1347.2,-82 1347.2,-88 1347.2,-88 1347.2,-100 1347.2,-100 1347.2,-106 1341.2,-112 1335.2,-112"/>
<text xml:space="preserve" text-anchor="middle" x="1297.35" y="-97.3" font-family="Times,serif" font-size="11.00">Embedding Cache</text>
<text xml:space="preserve" text-anchor="middle" x="1297.35" y="-84.1" font-family="Times,serif" font-size="11.00">(SHA-256 per file)</text>
</g>
<!-- Embed&#45;&gt;Cache -->
<g id="edge8" class="edge">
<title>Embed-&gt;Cache</title>
<path fill="none" stroke="black" d="M1211.71,-94C1219.62,-94 1227.75,-94 1235.68,-94"/>
<polygon fill="black" stroke="black" points="1235.62,-97.5 1245.62,-94 1235.62,-90.5 1235.62,-97.5"/>
</g>
<!-- Cache&#45;&gt;Retrieval -->
<g id="edge9" class="edge">
<title>Cache-&gt;Retrieval</title>
<path fill="none" stroke="black" d="M1347.34,-91.77C1355.28,-91.4 1363.58,-91.03 1371.71,-90.65"/>
<polygon fill="black" stroke="black" points="1371.72,-94.16 1381.55,-90.21 1371.4,-87.16 1371.72,-94.16"/>
</g>
<!-- Context -->
<g id="node11" class="node">
<title>Context</title>
<path fill="white" stroke="black" d="M1636.93,-119C1636.93,-119 1526.62,-119 1526.62,-119 1520.62,-119 1514.62,-113 1514.62,-107 1514.62,-107 1514.62,-95 1514.62,-95 1514.62,-89 1520.62,-83 1526.62,-83 1526.62,-83 1636.93,-83 1636.93,-83 1642.93,-83 1648.93,-89 1648.93,-95 1648.93,-95 1648.93,-107 1648.93,-107 1648.93,-113 1642.93,-119 1636.93,-119"/>
<text xml:space="preserve" text-anchor="middle" x="1581.78" y="-104.3" font-family="Times,serif" font-size="11.00">Context Builder</text>
<text xml:space="preserve" text-anchor="middle" x="1581.78" y="-91.1" font-family="Times,serif" font-size="11.00">(with metadata + citations)</text>
</g>
<!-- Retrieval&#45;&gt;Context -->
<g id="edge12" class="edge">
<title>Retrieval-&gt;Context</title>
<path fill="none" stroke="black" d="M1479.01,-92.11C1486.6,-92.78 1494.62,-93.48 1502.7,-94.18"/>
<polygon fill="black" stroke="black" points="1502.35,-97.66 1512.62,-95.05 1502.96,-90.69 1502.35,-97.66"/>
</g>
<!-- Logs -->
<g id="node14" class="node">
<title>Logs</title>
<path fill="white" stroke="black" d="M1924,-106C1924,-106 1859.29,-106 1859.29,-106 1853.29,-106 1847.29,-100 1847.29,-94 1847.29,-94 1847.29,-82 1847.29,-82 1847.29,-76 1853.29,-70 1859.29,-70 1859.29,-70 1924,-70 1924,-70 1930,-70 1936,-76 1936,-82 1936,-82 1936,-94 1936,-94 1936,-100 1930,-106 1924,-106"/>
<text xml:space="preserve" text-anchor="middle" x="1891.65" y="-91.3" font-family="Times,serif" font-size="11.00">Logs and Debug</text>
<text xml:space="preserve" text-anchor="middle" x="1891.65" y="-78.1" font-family="Times,serif" font-size="11.00">(traceability)</text>
</g>
<!-- Retrieval&#45;&gt;Logs -->
<g id="edge15" class="edge">
<title>Retrieval-&gt;Logs</title>
<path fill="none" stroke="black" d="M1478.98,-78.63C1490.58,-76.71 1503.01,-74.98 1514.62,-74 1648.02,-62.79 1682.54,-61.64 1815.83,-74 1822.32,-74.6 1829.09,-75.49 1835.79,-76.54"/>
<polygon fill="black" stroke="black" points="1834.99,-79.95 1845.43,-78.16 1836.16,-73.05 1834.99,-79.95"/>
</g>
<!-- LLM -->
<g id="node12" class="node">
<title>LLM</title>
<path fill="white" stroke="black" d="M1795.83,-119C1795.83,-119 1696.93,-119 1696.93,-119 1690.93,-119 1684.93,-113 1684.93,-107 1684.93,-107 1684.93,-95 1684.93,-95 1684.93,-89 1690.93,-83 1696.93,-83 1696.93,-83 1795.83,-83 1795.83,-83 1801.83,-83 1807.83,-89 1807.83,-95 1807.83,-95 1807.83,-107 1807.83,-107 1807.83,-113 1801.83,-119 1795.83,-119"/>
<text xml:space="preserve" text-anchor="middle" x="1746.38" y="-104.3" font-family="Times,serif" font-size="11.00">LLM Answer Generator</text>
<text xml:space="preserve" text-anchor="middle" x="1746.38" y="-91.1" font-family="Times,serif" font-size="11.00">(Azure OpenAI)</text>
</g>
<!-- Context&#45;&gt;LLM -->
<g id="edge13" class="edge">
<title>Context-&gt;LLM</title>
<path fill="none" stroke="black" d="M1649.38,-101C1657.22,-101 1665.25,-101 1673.16,-101"/>
<polygon fill="black" stroke="black" points="1673.11,-104.5 1683.11,-101 1673.11,-97.5 1673.11,-104.5"/>
</g>
<!-- UI -->
<g id="node13" class="node">
<title>UI</title>
<path fill="white" stroke="black" d="M1909.03,-52C1909.03,-52 1874.26,-52 1874.26,-52 1868.26,-52 1862.26,-46 1862.26,-40 1862.26,-40 1862.26,-28 1862.26,-28 1862.26,-22 1868.26,-16 1874.26,-16 1874.26,-16 1909.03,-16 1909.03,-16 1915.03,-16 1921.03,-22 1921.03,-28 1921.03,-28 1921.03,-40 1921.03,-40 1921.03,-46 1915.03,-52 1909.03,-52"/>
<text xml:space="preserve" text-anchor="middle" x="1891.65" y="-37.3" font-family="Times,serif" font-size="11.00">Chat UI</text>
<text xml:space="preserve" text-anchor="middle" x="1891.65" y="-24.1" font-family="Times,serif" font-size="11.00">(Chainlit)</text>
</g>
<!-- LLM&#45;&gt;UI -->
<g id="edge14" class="edge">
<title>LLM-&gt;UI</title>
<path fill="none" stroke="black" d="M1786.91,-82.51C1807.13,-73.06 1831.65,-61.59 1851.78,-52.18"/>
<polygon fill="black" stroke="black" points="1853.2,-55.38 1860.78,-47.97 1850.24,-49.03 1853.2,-55.38"/>
</g>
<!-- LLM&#45;&gt;Logs -->
<g id="edge16" class="edge">
<title>LLM-&gt;Logs</title>
<path fill="none" stroke="black" d="M1808.14,-95.49C1817.36,-94.65 1826.83,-93.79 1835.92,-92.97"/>
<polygon fill="black" stroke="black" points="1836.02,-96.47 1845.66,-92.08 1835.39,-89.5 1836.02,-96.47"/>
</g>
<!-- UI&#45;&gt;Retrieval -->
<g id="edge11" class="edge">
<title>UI-&gt;Retrieval</title>
<path fill="none" stroke="black" d="M1862.03,-33.69C1798.76,-33.53 1642.44,-35.94 1514.62,-61 1506.57,-62.58 1498.22,-64.7 1490.04,-67.07"/>
<polygon fill="black" stroke="black" points="1489.05,-63.71 1480.51,-69.98 1491.09,-70.41 1489.05,-63.71"/>
</g>
</g>
</svg>
