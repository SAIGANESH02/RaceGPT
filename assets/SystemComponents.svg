<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="251pt" height="1064pt" viewBox="0.00 0.00 251.00 1064.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1060)">
<title>SystemComponents</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1060 247,-1060 247,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="121.5" y="-1041.2" font-family="Times,serif" font-size="12.00">RaceGPT System Components</text>
<g id="clust1" class="cluster">
<title>cluster_ingest</title>
<path fill="none" stroke="#b3b3b3" d="M39,-640C39,-640 169,-640 169,-640 175,-640 181,-646 181,-652 181,-652 181,-1013.6 181,-1013.6 181,-1019.6 175,-1025.6 169,-1025.6 169,-1025.6 39,-1025.6 39,-1025.6 33,-1025.6 27,-1019.6 27,-1013.6 27,-1013.6 27,-652 27,-652 27,-646 33,-640 39,-640"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-1010.8" font-family="Times,serif" font-size="12.00">Ingest and Preprocess</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_transcript</title>
<path fill="none" stroke="#b3b3b3" d="M46,-485.6C46,-485.6 162,-485.6 162,-485.6 168,-485.6 174,-491.6 174,-497.6 174,-497.6 174,-620 174,-620 174,-626 168,-632 162,-632 162,-632 46,-632 46,-632 40,-632 34,-626 34,-620 34,-620 34,-497.6 34,-497.6 34,-491.6 40,-485.6 46,-485.6"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-617.2" font-family="Times,serif" font-size="12.00">Transcript Intelligence</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_rag</title>
<path fill="none" stroke="#b3b3b3" d="M20,-90.4C20,-90.4 160,-90.4 160,-90.4 166,-90.4 172,-96.4 172,-102.4 172,-102.4 172,-465.6 172,-465.6 172,-471.6 166,-477.6 160,-477.6 160,-477.6 20,-477.6 20,-477.6 14,-477.6 8,-471.6 8,-465.6 8,-465.6 8,-102.4 8,-102.4 8,-96.4 14,-90.4 20,-90.4"/>
<text xml:space="preserve" text-anchor="middle" x="90" y="-462.8" font-family="Times,serif" font-size="12.00">RAG Retrieval and Answering</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_ui</title>
<path fill="none" stroke="#b3b3b3" d="M66,-8C66,-8 223,-8 223,-8 229,-8 235,-14 235,-20 235,-20 235,-70.4 235,-70.4 235,-76.4 229,-82.4 223,-82.4 223,-82.4 66,-82.4 66,-82.4 60,-82.4 54,-76.4 54,-70.4 54,-70.4 54,-20 54,-20 54,-14 60,-8 66,-8"/>
<text xml:space="preserve" text-anchor="middle" x="144.5" y="-67.6" font-family="Times,serif" font-size="12.00">Experience and Ops</text>
</g>
<!-- AudioSources -->
<g id="node1" class="node">
<title>AudioSources</title>
<path fill="white" stroke="black" d="M144.91,-995.2C144.91,-995.2 63.09,-995.2 63.09,-995.2 57.09,-995.2 51.09,-989.2 51.09,-983.2 51.09,-983.2 51.09,-971.2 51.09,-971.2 51.09,-965.2 57.09,-959.2 63.09,-959.2 63.09,-959.2 144.91,-959.2 144.91,-959.2 150.91,-959.2 156.91,-965.2 156.91,-971.2 156.91,-971.2 156.91,-983.2 156.91,-983.2 156.91,-989.2 150.91,-995.2 144.91,-995.2"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-980.5" font-family="Times,serif" font-size="11.00">Race Audio Sources</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-967.3" font-family="Times,serif" font-size="11.00">(Multi-channel)</text>
</g>
<!-- Ingest -->
<g id="node2" class="node">
<title>Ingest</title>
<path fill="white" stroke="black" d="M160.94,-923.2C160.94,-923.2 47.06,-923.2 47.06,-923.2 41.06,-923.2 35.06,-917.2 35.06,-911.2 35.06,-911.2 35.06,-899.2 35.06,-899.2 35.06,-893.2 41.06,-887.2 47.06,-887.2 47.06,-887.2 160.94,-887.2 160.94,-887.2 166.94,-887.2 172.94,-893.2 172.94,-899.2 172.94,-899.2 172.94,-911.2 172.94,-911.2 172.94,-917.2 166.94,-923.2 160.94,-923.2"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-908.5" font-family="Times,serif" font-size="11.00">Ingest and Channel Mapper</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-895.3" font-family="Times,serif" font-size="11.00">(metadata, alignment)</text>
</g>
<!-- AudioSources&#45;&gt;Ingest -->
<g id="edge1" class="edge">
<title>AudioSources-&gt;Ingest</title>
<path fill="none" stroke="black" d="M104,-958.9C104,-951.61 104,-942.93 104,-934.74"/>
<polygon fill="black" stroke="black" points="107.5,-934.82 104,-924.82 100.5,-934.82 107.5,-934.82"/>
</g>
<!-- Preprocess -->
<g id="node3" class="node">
<title>Preprocess</title>
<path fill="white" stroke="black" d="M148.57,-851.2C148.57,-851.2 59.43,-851.2 59.43,-851.2 53.43,-851.2 47.43,-845.2 47.43,-839.2 47.43,-839.2 47.43,-815.6 47.43,-815.6 47.43,-809.6 53.43,-803.6 59.43,-803.6 59.43,-803.6 148.57,-803.6 148.57,-803.6 154.57,-803.6 160.57,-809.6 160.57,-815.6 160.57,-815.6 160.57,-839.2 160.57,-839.2 160.57,-845.2 154.57,-851.2 148.57,-851.2"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-837.3" font-family="Times,serif" font-size="11.00">Audio Preprocessing</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-824.1" font-family="Times,serif" font-size="11.00">(denoise, silence trim,</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-810.9" font-family="Times,serif" font-size="11.00">keep time integrity)</text>
</g>
<!-- Ingest&#45;&gt;Preprocess -->
<g id="edge2" class="edge">
<title>Ingest-&gt;Preprocess</title>
<path fill="none" stroke="black" d="M104,-887C104,-879.87 104,-871.34 104,-863.02"/>
<polygon fill="black" stroke="black" points="107.5,-863.08 104,-853.08 100.5,-863.08 107.5,-863.08"/>
</g>
<!-- Diarization -->
<g id="node4" class="node">
<title>Diarization</title>
<path fill="white" stroke="black" d="M143.83,-767.6C143.83,-767.6 64.17,-767.6 64.17,-767.6 58.17,-767.6 52.17,-761.6 52.17,-755.6 52.17,-755.6 52.17,-743.6 52.17,-743.6 52.17,-737.6 58.17,-731.6 64.17,-731.6 64.17,-731.6 143.83,-731.6 143.83,-731.6 149.83,-731.6 155.83,-737.6 155.83,-743.6 155.83,-743.6 155.83,-755.6 155.83,-755.6 155.83,-761.6 149.83,-767.6 143.83,-767.6"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-752.9" font-family="Times,serif" font-size="11.00">Speaker Diarization</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-739.7" font-family="Times,serif" font-size="11.00">(speechlib)</text>
</g>
<!-- Preprocess&#45;&gt;Diarization -->
<g id="edge3" class="edge">
<title>Preprocess-&gt;Diarization</title>
<path fill="none" stroke="black" d="M104,-803.25C104,-795.73 104,-787.29 104,-779.42"/>
<polygon fill="black" stroke="black" points="107.5,-779.59 104,-769.59 100.5,-779.59 107.5,-779.59"/>
</g>
<!-- RoleMap -->
<g id="node5" class="node">
<title>RoleMap</title>
<path fill="white" stroke="black" d="M156.2,-695.6C156.2,-695.6 51.8,-695.6 51.8,-695.6 45.8,-695.6 39.8,-689.6 39.8,-683.6 39.8,-683.6 39.8,-660 39.8,-660 39.8,-654 45.8,-648 51.8,-648 51.8,-648 156.2,-648 156.2,-648 162.2,-648 168.2,-654 168.2,-660 168.2,-660 168.2,-683.6 168.2,-683.6 168.2,-689.6 162.2,-695.6 156.2,-695.6"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-681.7" font-family="Times,serif" font-size="11.00">Speaker Role Attribution</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-668.5" font-family="Times,serif" font-size="11.00">(BERT or LLM)</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-655.3" font-family="Times,serif" font-size="11.00">(driver, engineer, spotter)</text>
</g>
<!-- Diarization&#45;&gt;RoleMap -->
<g id="edge4" class="edge">
<title>Diarization-&gt;RoleMap</title>
<path fill="none" stroke="black" d="M104,-731.4C104,-724.27 104,-715.74 104,-707.42"/>
<polygon fill="black" stroke="black" points="107.5,-707.48 104,-697.48 100.5,-707.48 107.5,-707.48"/>
</g>
<!-- Transcripts -->
<g id="node6" class="node">
<title>Transcripts</title>
<path fill="white" stroke="black" d="M146.72,-601.6C146.72,-601.6 61.28,-601.6 61.28,-601.6 55.28,-601.6 49.28,-595.6 49.28,-589.6 49.28,-589.6 49.28,-577.6 49.28,-577.6 49.28,-571.6 55.28,-565.6 61.28,-565.6 61.28,-565.6 146.72,-565.6 146.72,-565.6 152.72,-565.6 158.72,-571.6 158.72,-577.6 158.72,-577.6 158.72,-589.6 158.72,-589.6 158.72,-595.6 152.72,-601.6 146.72,-601.6"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-586.9" font-family="Times,serif" font-size="11.00">Transcripts Store</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-573.7" font-family="Times,serif" font-size="11.00">(files per race/driver)</text>
</g>
<!-- RoleMap&#45;&gt;Transcripts -->
<g id="edge5" class="edge">
<title>RoleMap-&gt;Transcripts</title>
<path fill="none" stroke="black" d="M104,-647.7C104,-637.15 104,-624.55 104,-613.39"/>
<polygon fill="black" stroke="black" points="107.5,-613.53 104,-603.53 100.5,-613.53 107.5,-613.53"/>
</g>
<!-- Parser -->
<g id="node7" class="node">
<title>Parser</title>
<path fill="white" stroke="black" d="M154.37,-529.6C154.37,-529.6 53.63,-529.6 53.63,-529.6 47.63,-529.6 41.63,-523.6 41.63,-517.6 41.63,-517.6 41.63,-505.6 41.63,-505.6 41.63,-499.6 47.63,-493.6 53.63,-493.6 53.63,-493.6 154.37,-493.6 154.37,-493.6 160.37,-493.6 166.37,-499.6 166.37,-505.6 166.37,-505.6 166.37,-517.6 166.37,-517.6 166.37,-523.6 160.37,-529.6 154.37,-529.6"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-514.9" font-family="Times,serif" font-size="11.00">Transcript Parser</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-501.7" font-family="Times,serif" font-size="11.00">[start, end, speaker, text]</text>
</g>
<!-- Transcripts&#45;&gt;Parser -->
<g id="edge6" class="edge">
<title>Transcripts-&gt;Parser</title>
<path fill="none" stroke="black" d="M104,-565.3C104,-558.01 104,-549.33 104,-541.14"/>
<polygon fill="black" stroke="black" points="107.5,-541.22 104,-531.22 100.5,-541.22 107.5,-541.22"/>
</g>
<!-- Embed -->
<g id="node8" class="node">
<title>Embed</title>
<path fill="white" stroke="black" d="M152.22,-447.2C152.22,-447.2 55.78,-447.2 55.78,-447.2 49.78,-447.2 43.78,-441.2 43.78,-435.2 43.78,-435.2 43.78,-423.2 43.78,-423.2 43.78,-417.2 49.78,-411.2 55.78,-411.2 55.78,-411.2 152.22,-411.2 152.22,-411.2 158.22,-411.2 164.22,-417.2 164.22,-423.2 164.22,-423.2 164.22,-435.2 164.22,-435.2 164.22,-441.2 158.22,-447.2 152.22,-447.2"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-432.5" font-family="Times,serif" font-size="11.00">Embedding Generator</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-419.3" font-family="Times,serif" font-size="11.00">(sentence-transformers)</text>
</g>
<!-- Parser&#45;&gt;Embed -->
<g id="edge7" class="edge">
<title>Parser-&gt;Embed</title>
<path fill="none" stroke="black" d="M104,-493.15C104,-483.15 104,-470.33 104,-458.88"/>
<polygon fill="black" stroke="black" points="107.5,-459.13 104,-449.13 100.5,-459.13 107.5,-459.13"/>
</g>
<!-- Cache -->
<g id="node9" class="node">
<title>Cache</title>
<path fill="white" stroke="black" d="M144.85,-375.2C144.85,-375.2 69.15,-375.2 69.15,-375.2 63.15,-375.2 57.15,-369.2 57.15,-363.2 57.15,-363.2 57.15,-351.2 57.15,-351.2 57.15,-345.2 63.15,-339.2 69.15,-339.2 69.15,-339.2 144.85,-339.2 144.85,-339.2 150.85,-339.2 156.85,-345.2 156.85,-351.2 156.85,-351.2 156.85,-363.2 156.85,-363.2 156.85,-369.2 150.85,-375.2 144.85,-375.2"/>
<text xml:space="preserve" text-anchor="middle" x="107" y="-360.5" font-family="Times,serif" font-size="11.00">Embedding Cache</text>
<text xml:space="preserve" text-anchor="middle" x="107" y="-347.3" font-family="Times,serif" font-size="11.00">(SHA-256 per file)</text>
</g>
<!-- Embed&#45;&gt;Cache -->
<g id="edge8" class="edge">
<title>Embed-&gt;Cache</title>
<path fill="none" stroke="black" d="M104.74,-410.9C105.05,-403.61 105.43,-394.93 105.78,-386.74"/>
<polygon fill="black" stroke="black" points="109.27,-386.96 106.2,-376.82 102.28,-386.66 109.27,-386.96"/>
</g>
<!-- Retrieval -->
<g id="node10" class="node">
<title>Retrieval</title>
<path fill="white" stroke="black" d="M148.71,-303.2C148.71,-303.2 77.29,-303.2 77.29,-303.2 71.29,-303.2 65.29,-297.2 65.29,-291.2 65.29,-291.2 65.29,-254.4 65.29,-254.4 65.29,-248.4 71.29,-242.4 77.29,-242.4 77.29,-242.4 148.71,-242.4 148.71,-242.4 154.71,-242.4 160.71,-248.4 160.71,-254.4 160.71,-254.4 160.71,-291.2 160.71,-291.2 160.71,-297.2 154.71,-303.2 148.71,-303.2"/>
<text xml:space="preserve" text-anchor="middle" x="113" y="-289.3" font-family="Times,serif" font-size="11.00">Retriever</text>
<text xml:space="preserve" text-anchor="middle" x="113" y="-276.1" font-family="Times,serif" font-size="11.00">(cosine similarity,</text>
<text xml:space="preserve" text-anchor="middle" x="113" y="-262.9" font-family="Times,serif" font-size="11.00">keyword fallback,</text>
<text xml:space="preserve" text-anchor="middle" x="113" y="-249.7" font-family="Times,serif" font-size="11.00">2-pass ranking)</text>
</g>
<!-- Cache&#45;&gt;Retrieval -->
<g id="edge9" class="edge">
<title>Cache-&gt;Retrieval</title>
<path fill="none" stroke="black" d="M108.27,-338.73C108.78,-331.71 109.4,-323.3 110.01,-314.9"/>
<polygon fill="black" stroke="black" points="113.49,-315.31 110.72,-305.09 106.5,-314.81 113.49,-315.31"/>
</g>
<!-- Context -->
<g id="node11" class="node">
<title>Context</title>
<path fill="white" stroke="black" d="M138.15,-206.4C138.15,-206.4 27.85,-206.4 27.85,-206.4 21.85,-206.4 15.85,-200.4 15.85,-194.4 15.85,-194.4 15.85,-182.4 15.85,-182.4 15.85,-176.4 21.85,-170.4 27.85,-170.4 27.85,-170.4 138.15,-170.4 138.15,-170.4 144.15,-170.4 150.15,-176.4 150.15,-182.4 150.15,-182.4 150.15,-194.4 150.15,-194.4 150.15,-200.4 144.15,-206.4 138.15,-206.4"/>
<text xml:space="preserve" text-anchor="middle" x="83" y="-191.7" font-family="Times,serif" font-size="11.00">Context Builder</text>
<text xml:space="preserve" text-anchor="middle" x="83" y="-178.5" font-family="Times,serif" font-size="11.00">(with metadata + citations)</text>
</g>
<!-- Retrieval&#45;&gt;Context -->
<g id="edge10" class="edge">
<title>Retrieval-&gt;Context</title>
<path fill="none" stroke="black" d="M102.17,-242.05C99.25,-234.03 96.1,-225.38 93.21,-217.46"/>
<polygon fill="black" stroke="black" points="96.59,-216.5 89.88,-208.3 90.01,-218.89 96.59,-216.5"/>
</g>
<!-- Logs -->
<g id="node14" class="node">
<title>Logs</title>
<path fill="white" stroke="black" d="M138.35,-52C138.35,-52 73.65,-52 73.65,-52 67.65,-52 61.65,-46 61.65,-40 61.65,-40 61.65,-28 61.65,-28 61.65,-22 67.65,-16 73.65,-16 73.65,-16 138.35,-16 138.35,-16 144.35,-16 150.35,-22 150.35,-28 150.35,-28 150.35,-40 150.35,-40 150.35,-46 144.35,-52 138.35,-52"/>
<text xml:space="preserve" text-anchor="middle" x="106" y="-37.3" font-family="Times,serif" font-size="11.00">Logs and Debug</text>
<text xml:space="preserve" text-anchor="middle" x="106" y="-24.1" font-family="Times,serif" font-size="11.00">(traceability)</text>
</g>
<!-- Retrieval&#45;&gt;Logs -->
<g id="edge14" class="edge">
<title>Retrieval-&gt;Logs</title>
<path fill="none" stroke="black" d="M139.73,-241.98C147.51,-231.48 154.98,-219.11 159,-206.4 174.56,-157.25 178.2,-138.25 159,-90.4 154.45,-79.07 146.37,-68.75 137.85,-60.17"/>
<polygon fill="black" stroke="black" points="140.46,-57.82 130.77,-53.53 135.68,-62.93 140.46,-57.82"/>
</g>
<!-- LLM -->
<g id="node12" class="node">
<title>LLM</title>
<path fill="white" stroke="black" d="M138.45,-134.4C138.45,-134.4 39.55,-134.4 39.55,-134.4 33.55,-134.4 27.55,-128.4 27.55,-122.4 27.55,-122.4 27.55,-110.4 27.55,-110.4 27.55,-104.4 33.55,-98.4 39.55,-98.4 39.55,-98.4 138.45,-98.4 138.45,-98.4 144.45,-98.4 150.45,-104.4 150.45,-110.4 150.45,-110.4 150.45,-122.4 150.45,-122.4 150.45,-128.4 144.45,-134.4 138.45,-134.4"/>
<text xml:space="preserve" text-anchor="middle" x="89" y="-119.7" font-family="Times,serif" font-size="11.00">LLM Answer Generator</text>
<text xml:space="preserve" text-anchor="middle" x="89" y="-106.5" font-family="Times,serif" font-size="11.00">(Azure OpenAI)</text>
</g>
<!-- Context&#45;&gt;LLM -->
<g id="edge11" class="edge">
<title>Context-&gt;LLM</title>
<path fill="none" stroke="black" d="M84.48,-170.1C85.11,-162.81 85.85,-154.13 86.55,-145.94"/>
<polygon fill="black" stroke="black" points="90.04,-146.27 87.4,-136.01 83.06,-145.68 90.04,-146.27"/>
</g>
<!-- UI -->
<g id="node13" class="node">
<title>UI</title>
<path fill="white" stroke="black" d="M215.39,-52C215.39,-52 180.61,-52 180.61,-52 174.61,-52 168.61,-46 168.61,-40 168.61,-40 168.61,-28 168.61,-28 168.61,-22 174.61,-16 180.61,-16 180.61,-16 215.39,-16 215.39,-16 221.39,-16 227.39,-22 227.39,-28 227.39,-28 227.39,-40 227.39,-40 227.39,-46 221.39,-52 215.39,-52"/>
<text xml:space="preserve" text-anchor="middle" x="198" y="-37.3" font-family="Times,serif" font-size="11.00">Chat UI</text>
<text xml:space="preserve" text-anchor="middle" x="198" y="-24.1" font-family="Times,serif" font-size="11.00">(Chainlit)</text>
</g>
<!-- LLM&#45;&gt;UI -->
<g id="edge13" class="edge">
<title>LLM-&gt;UI</title>
<path fill="none" stroke="black" d="M133.67,-97.97C142.49,-93.55 151.37,-88.34 159,-82.4 166.57,-76.51 173.64,-68.9 179.62,-61.51"/>
<polygon fill="black" stroke="black" points="182.36,-63.69 185.65,-53.62 176.8,-59.44 182.36,-63.69"/>
</g>
<!-- LLM&#45;&gt;Logs -->
<g id="edge15" class="edge">
<title>LLM-&gt;Logs</title>
<path fill="none" stroke="black" d="M92.69,-97.95C94.83,-87.84 97.57,-74.86 100.01,-63.32"/>
<polygon fill="black" stroke="black" points="103.36,-64.4 102.01,-53.89 96.51,-62.95 103.36,-64.4"/>
</g>
<!-- UI&#45;&gt;Retrieval -->
<g id="edge12" class="edge">
<title>UI-&gt;Retrieval</title>
<path fill="none" stroke="black" d="M199.58,-52.32C201.75,-84.45 202.92,-154.72 178,-206.4 173.25,-216.25 166.41,-225.49 158.94,-233.76"/>
<polygon fill="black" stroke="black" points="156.46,-231.29 152.03,-240.91 161.49,-236.15 156.46,-231.29"/>
</g>
</g>
</svg>